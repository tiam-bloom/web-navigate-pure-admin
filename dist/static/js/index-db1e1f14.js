import{a as f}from"./axios-dbeeecd7.js";import{d as $,r as g,c as k,a as s,o as B,b as D,e as t,u as i,s as E,w as l,f as p,g as I,h as V,i as z,E as _,j as T}from"./index-4d72ddb0.js";const j=$({__name:"index",setup(N){const r=g();f.get("/listCategories").then(e=>{r.value=e.data.data});const o=g(""),x=k(()=>o.value?r.value.filter(e=>e.category.includes(o.value)||e.id==o.value):r.value);function y(e,n){m(({value:c})=>{_.success(`修改成功: ${c}`)},n.category)}function h(e,n){f.delete(`/deleteCategoryById/${n.id}`).then(c=>{})}function b(){m(({value:e})=>{_.success(`添加成功: ${e}`)})}const m=(e,n="")=>{T.prompt("Please input category name","Tip",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputValue:n}).then(e).catch(()=>{_({type:"info",message:"Input canceled"})})};return(e,n)=>{const c=s("el-input"),u=s("el-button"),d=s("el-table-column"),v=s("el-popconfirm"),C=s("el-table");return B(),D("div",null,[t(c,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=a=>o.value=a),size:"large",style:{width:"400px"},placeholder:"Please Input ID or Category Name","prefix-icon":i(E)},null,8,["modelValue","prefix-icon"]),t(u,{type:"success",size:"large",class:"m-2",icon:i(I),onClick:b},{default:l(()=>[p("添加分类")]),_:1},8,["icon"]),t(C,{data:i(x),style:{width:"97%"},stripe:"",border:""},{default:l(()=>[t(d,{prop:"id",label:"ID",width:"180",align:"center"}),t(d,{prop:"category",label:"分类名",align:"center"}),t(d,{label:"操作",align:"center",width:"300"},{default:l(a=>[t(u,{type:"primary",size:"small",onClick:w=>y(a.$index,a.row),icon:i(V)},{default:l(()=>[p("Edit")]),_:2},1032,["onClick","icon"]),t(v,{title:"Are you sure to delete this?",onConfirm:w=>h(a.$index,a.row)},{reference:l(()=>[t(u,{size:"small",type:"danger",icon:i(z)},{default:l(()=>[p("Delete")]),_:1},8,["icon"])]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])])}}});export{j as default};
