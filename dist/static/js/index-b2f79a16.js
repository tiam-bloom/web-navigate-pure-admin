import{a as w}from"./axios-dbeeecd7.js";import{d as k,r as s,c as I,a as c,o as D,b as $,e as l,w as a,u as p,h as L,f as _,i as T}from"./index-4d72ddb0.js";import V from"./Dialog-6c70bfbf.js";import{_ as E}from"./Header.vue_vue_type_script_setup_true_lang-0d7c5aec.js";const U=k({__name:"index",setup(S){const d=s();w.get("/listCompleteSiteInfos").then(n=>{d.value=n.data.data});const i=s("");function m(n){i.value=n}const u=s("");function v(n){u.value=n}const b=I(()=>{if(!i.value&&!u.value)return d.value;return d.value.filter(e=>(n(e.description,i.value)||n(e.title,i.value))&&n(e.categoryId+"",u.value));function n(e,t){return typeof t=="string"&&(t=t.toLocaleLowerCase().trim()),t?e==null?void 0:e.toLocaleLowerCase().includes(t):!0}}),o=s(),y=(n,e)=>{o.value.siteInfo.title=e.title,o.value.siteInfo.url=e.url,o.value.siteInfo.description=e.description,o.value.siteInfo.category=e.categoryId,o.value.dialogVisible=!0};function x(){o.value.dialogVisible=!1}function z(n,e){}return(n,e)=>{const t=c("el-table-column"),f=c("el-button"),h=c("el-popconfirm"),g=c("el-table");return D(),$("div",null,[l(E,{onSetTitle:m,onSetCat:v}),l(g,{data:p(b),style:{width:"97%"},stripe:"","table-layout":"fixed",border:""},{default:a(()=>[l(t,{type:"index",width:"50",index:1}),l(t,{prop:"title",label:"标题",width:"200"}),l(t,{prop:"icon",label:"图标",width:"120"}),l(t,{prop:"url",label:"地址",width:"120"}),l(t,{prop:"description",label:"描述",width:"460"}),l(t,{prop:"category",label:"分类",width:"100",align:"center"}),l(t,{label:"操作",align:"center"},{default:a(r=>[l(f,{type:"primary",size:"small",onClick:C=>y(r.$index,r.row),icon:p(L)},{default:a(()=>[_("Edit")]),_:2},1032,["onClick","icon"]),l(h,{title:"Are you sure to delete this?"},{reference:a(()=>[l(f,{size:"small",type:"danger",onClick:C=>(r.$index,r.row,void 0),icon:p(T)},{default:a(()=>[_("Delete")]),_:2},1032,["onClick","icon"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),l(V,{ref_key:"dialog",ref:o,title:"Update web bookmarks",onHandleConfirm:x},null,512)])}}});export{U as default};
